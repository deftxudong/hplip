--- hplip-3.12.2/scan/sane/hpaio.c~	2012-02-01 11:52:35.000000000 +0000
+++ hplip-3.12.2/scan/sane/hpaio.c	2012-05-17 10:07:20.000000000 +0100
@@ -1342,9 +1342,8 @@
     hpaio->option[OPTION_ADF_MODE].constraint_type = SANE_CONSTRAINT_STRING_LIST;
     hpaio->option[OPTION_ADF_MODE].constraint.string_list = hpaio->adfModeList;
 
-    // Duplex scanning is supported
-    if (hpaio->supportsDuplex  == 1)
-    {
+    // hpaioUpdateDescriptors will leave this active or inactive depending
+    // on whether duplex is supported
        hpaio->option[OPTION_DUPLEX].name = STR_NAME_DUPLEX;
        hpaio->option[OPTION_DUPLEX].title = STR_TITLE_DUPLEX;
        hpaio->option[OPTION_DUPLEX].desc = STR_DESC_DUPLEX;
@@ -1355,7 +1354,7 @@
                                        SANE_CAP_SOFT_DETECT |
                                        SANE_CAP_ADVANCED;
        hpaio->option[OPTION_DUPLEX].constraint_type = SANE_CONSTRAINT_NONE;
-    }
+
     hpaio->option[GROUP_GEOMETRY].title = STR_TITLE_GEOMETRY;
     hpaio->option[GROUP_GEOMETRY].type = SANE_TYPE_GROUP;
     hpaio->option[GROUP_GEOMETRY].cap = SANE_CAP_ADVANCED;
